# 图片信息提取与Tag反推工具

本项目旨在开发一个工具，用于高效地提取图片中的生成信息，并反推出与之相关的文本标签（Tag）。

## 核心功能

1.  **反推Tag的TXT内容提取、清洗与分类：** 从特定文本文件中提取和清洗相关标签，并进行分类。
2.  **提取图片生成信息：** 获取图片自带的生成元数据，例如提示词、模型信息等。

## 当前进展

* 代码已成功通过Copilot重构。
* 已实现图片信息TXT内容的提取和初步清洗功能。

### 待定与待开发

* **功能合并：** 正在考虑是否将“反推Tag功能”与“图片自带生成信息功能”进行合并，以简化操作流程。
* **提示词切割：**
    * 计划新增功能，用于**切割开正面提示词和负面提示词**。
    * 正在评估是否需要进一步细分每个切割出来的部分。

## 疑问与考量

* **图片信息处理：**
    * 能否合并含有图片生成信息的文件？
    * 图片自带的生成信息是否需要清洗？目前看来，很少有需要打码或额外处理的图片信息，可能可以直接导入。
* **项目架构：** 暂时不考虑采用主控脚本与多个分控脚本的复杂方案，当前工程量尚无需如此设计。

## 通用辅助功能 (已实现)

为提高开发和调试效率，以下通用辅助功能已集成：

* **自动打开文件：** 完成操作后自动打开生成的文件。
* **文件生成时间：** 生成的文件中自动填写生成时间。
* **灵活的文件夹处理：** `py`文件目录固定，其他子文件夹路径可灵活配置（支持**命令行手动输入**或**弹出窗口选择**）。

## 待解决问题

* **ComfyUI图片信息：** 部分由ComfyUI生成的图片信息目前无法有效解析。
* **无文本信息图片：** 无法处理不含任何文本生成信息的图片。

## 爬虫练手目标

以下是未来计划进行数据爬取的网站和内容：

* **Google搜索** (已实现)
* **Google图片** (已实现)
* C站 (Civitai) Post
* C站 (Civitai) Image
* C站 (Civitai) 作者Image (这可能更具价值)
